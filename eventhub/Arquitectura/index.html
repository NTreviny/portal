<!DOCTYPE html>
<html xml:lang="ca-ES" lang="ca-ES" xmlns="http://www.w3.org/1999/xhtml">
<head>

	<title>Arquitectura</title>
		<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
	<link href="/css/master.min.css" rel="stylesheet" type="text/css" />
	<link href="/css/canigo.css" rel="stylesheet" type="text/css" />
	<script src="/js/jquery.min.js" type="text/javascript"></script>

	<script>
		document.write("<meta name=\"titol\" content=\"Arquitectura\" />");
		document.write("<meta name=\"description\" content=\"Arquitectura d\x27Eventhub\" />");
	</script>

	

</head>
<body class="single">
	<div class="contenidor unfixed">

				

		<header class="fons_header navbar navbar-default z-index-menu">
			<div class="container" role="menu">
				<div class="row clearfix menuNav">
					<div class="col-md-3 col-xs-3 column visible-xs coloca ">
						<button type="button" onclick="amunt();" title="Menu"
							class="navbar-toggle pull-left" data-toggle="collapse"
							data-target=".navbar-collapse">
							<span class="sr-only">Toggle navigation</span> <span
								class="icon-bar"></span> <span class="icon-bar"></span> <span
								class="icon-bar"></span>
						</button>
					</div>

					<div class="col-md-3 col-xs-6 col-offset-2 column visible-xs titol-mobil">
						
						<span class="white titol-mobil-destacat">canigo.ctti</span><span class="white">.gencat.cat</span>
					</div>

					<div class="col-md-3 col-xs-3 column visible-xs coloca1">
						<button onclick="amunt();" type="button" title="Cerca"
							class="ico_cerca " data-toggle="collapse" data-target=".dos">
						</button>
					</div>

				</div>

				<div class="collapse dos">
					<div class="shadowBox">
						<form class="navbar-form navbar-left primer" action="/cercador/" method="get"
 						onsubmit="location.href=this.action+'?q='+this.cerca_cap.value; return false;">
							<div class="form-group">
								<input type="search" class="form-control" name="q" id="cerca_cap"
									title="Cerca"
									placeholder="Cerca" />
								<button type="button" title="Neteja" class="btn btn-default"></button>
								<input type="submit" class="ocult" name="Cerca" value="Cerca" />
							</div>
						</form>
					</div>
				</div>	

				<nav class="collapse navbar-collapse navbar-ex1-collapse ">
				
					<div class="row">
						<div class="col-md-6 col-sm-4 column">
							<a class="img-responsive logo" title="Generalitat de Catalunya"
								href="https://ctti.gencat.cat/">gencat.cat</a>
							<button class="menu_tancar visible-xs collapsed"
								data-target=".navbar-collapse" data-toggle="collapse"
								title="Tancar"></button>
						</div>

						<div class="col-md-6 col-sm-8 column hidden-xs hidden-mg">
							<form class="navbar-form cercador_vermell hidden-xs pull-right" action="/cercador/"  method="get" onsubmit="location.href=this.action+'?q='+this.cerca2.value; return false;">
								<div class="form-group">
									<label class="hidden" for="cerca2">Cerca</label>
									<input id="cerca2" class="form-control" type="search" 
									placeholder="Cerca" name="q" title="Cerca">
									<input class="btn btn-default" type="submit" title="Cerca" value="">
								</div>
							</form>

							

						</div>

					</div>
					<div class="col-xs-12 hidden-xs" id="nomPortal">
                    	<span class="titol-cap-nou">Centre de Telecomunicacions i Tecnologies de la Informació</span>
                    </div>					
					<ul class="nav navbar-nav">

			        	

						<li>
							<a class="dropdown-toggle" href='/' data-toggle='_dropdown'>Inici</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/arqctti' data-toggle='_dropdown'>Arquitectura CTTI</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/blog' data-toggle='_dropdown'>Blog</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cloud' data-toggle='_dropdown'>Cloud</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/canigo-fwk-docs' data-toggle='_dropdown'>Canigó</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sic' data-toggle='_dropdown'>SIC</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sgde' data-toggle='_dropdown'>SGDE</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/gicar' data-toggle='_dropdown'>GICAR</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cs' data-toggle='_dropdown'>Centres de Suport</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/dadesref' data-toggle='_dropdown'>Gestió Tècnica de Dades</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/eventhub' data-toggle='_dropdown'>EventHub</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/rpa' data-toggle='_dropdown'>RPA</a>
						</li>

						

					</ul>

				</nav>
			</div>
		</header>



	</div>

	<section class="border-start">

						
			

			<article class="bgGrey">
				<div class="container">
					<div class="row">
						<div class="capcelera_basica col-sm-12">
							<div class="capcelera_basica_cont">
								<ol class="breadcrumb filariana hidden-xs">
									<li>
										<a href="/">Inici</a>
									</li>
									<li class="breadcrumbs2">
									
										<a href="/eventhub">
											

























    EventHub








										</a>
										




























































































									
									</li>

								</ol>

								<h1 class="capcelera_flotant pull-left" data-txt=".title">
									

										
											




	Arquitectura


										

									
								</h1>

								

								
								

								

								

							</div>
						</div>

					</div>
				</div>
			</article>

			


		   <div class="padding-xs container">
	    	
	    	   <i><b>Darrera actualització:</b></i> 20-05-2022
	        
           </div>
           
			<article class="padding-xs padding-sm padding-md contingut">				
				<div class="container">
 		
					
				

	


					

						

<h2 id="arquitectura-d-eventhub">Arquitectura d&rsquo;Eventhub</h2>

<h3 id="esquema-conceptual">Esquema conceptual</h3>

<p><img src="/related/eventhub/MU07.png" alt="Cas 6" /></p>

<h3 id="vista-de-desplegament">Vista de desplegament</h3>

<p><img src="/related/eventhub/MU08.png" alt="Cas 7" /></p>

<h3 id="evolució-prevista">Evolució prevista</h3>

<p><img src="/related/eventhub/MU09.png" alt="Cas 8" /></p>

<h2 id="model-de-seguretat">Model de Seguretat</h2>

<h3 id="com-implementem-la-seguretat">Com implementem la seguretat</h3>

<ul>
<li><p>Els clients (productors i consumidors) i serveis del sistema s’autenticaran mitjançant certificat software, signat per l’auto ritat pública de certificació Sectigo, amb el mètode mTLS d’autenticació (garanteix que les parts de cadascun dels extrems d’una connexió de xarxa són els que diuen ser, verificant que ambdues tenen la clau privada correcta. La informació continguda en els seus respectius certificats TLS/SSL proporciona una verificació addicional). La signatura del certificat es demanarà a l’Agèn cia de Ciberseguretat (AC), prèvia creació de la clau privada i el certificat CSR corresponents.</p></li>

<li><p>L’Oficina Tècnica proporcionarà un <em>script</em> de creació de la clau privada i CSR per facilitar aquesta tasca als clients. La clau privada s’ha d’emmagatzemar protegida i el CSR s’enviarà a l’AC, que el signarà i retornarà al client el certificat final (clau pública) signat amb Sectigo.</p></li>

<li><p>Els administradors accediran al sistema i el Control Center de Confluent amb usuari/password.</p></li>

<li><p>Els usuaris de consulta accediran al Control Center amb usuari/password.</p></li>

<li><p>Els drets d’accés a cada recurs s’establiran segons les decisions de la persona responsable del mateix.</p></li>

<li><p>Els drets d’accés de cada usuari es limitaran segons els següents principis: mínim privilegi, necessitat de conèixer i capaci tat d’autoritzar.</p></li>

<li><p>Els usuaris que vulguin treballar amb la plataforma han de sol·licitar els permisos adients segons les seves necessitats. Aquests permisos es demanaran a l’Oficina Tècnica, que podrà acceptar o rebutjar la petició en base als criteris anteriors.</p></li>
</ul>

<h2 id="multitenancy-i-entorns">Multitenancy i entorns</h2>

<h3 id="com-implementem-el-multitenancy">Com implementem el multitenancy</h3>

<p>A la plataforma Eventhub implementem el multitenancy i aïllament de recursos a partir de quotes.</p>

<p>El clúster Kafka té la capacitat d&rsquo;aplicar quotes a les sol·licituds per controlar els recursos del broker utilitzats pels clients. Els brokers de Kafka poden aplicar dos tipus de quotes de clients per a cada grup de clients que comparteix una quota:</p>

<ul>
<li><p>Les quotes d&rsquo;amplada de banda de xarxa defineixen els llindars de velocitat de bytes.</p></li>

<li><p>Les quotes de velocitat de sol·licitud defineixen els llindars d&rsquo;utilització de la CPU com a percentatge dels fils d&rsquo;E/S i de xarxa.</p></li>
</ul>

<p>Amb la implementació de quotes evitarem:</p>

<ul>
<li><p>La monopolització dels recursos de la plataforma per part d’una aplicació</p></li>

<li><p>La saturació de la xarxa</p></li>

<li><p>Denegació del servei per altres clients</p></li>
</ul>

<h3 id="entorns">Entorns</h3>

<p>Posem a disposició de les aplicacions 3 entorns de treball: INT, PRE i PRO</p>

<hr />

<p>Per a més informació podeu contactar amb l&rsquo;Oficina Tècnica mitjançant <a href="mailto:eventhub.ctti@gencat.cat">e-mail</a>. També podeu consultar l&rsquo;apartat de <a href="/eventhub/Suport">Suport</a>.</p>


					

					
				</div>	

			</article>	


	</section>	

		<div class="fons_footer ">
		<footer class="container center-block shadowBox2">
			<div class="shadow2"></div>
			<div class="row footer_tab_ord">

				<div class="footer_tab_bot col-sm-12">
					<div class="avis_legal">

						<div id="fAvisLegal">
							<div>
								<div class="hidden-xs">
									<a href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" alt="www.gencat.cat"
										/></a>
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								<div class="visible-xs avis_legal">
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								
								<div class="fi_peu visible-xs">
									<a title="www.gencat.cat" href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" 
										alt="www.gencat.cat" /></a> <a class="torna_amunt pull-right"
										href=" javascript:tornarAmunt();" title="Torna amunt">
										<p>Torna amunt</p>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>

<script src="/js/master.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
<script src="/js/custom.js" type="text/javascript"></script>



<script type="text/javascript">

if(location.hostname!=="localhost"){

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', "UA-59408075-1", 'auto');
	ga('send', 'pageview', {
	  	'page': location.pathname + location.search  + location.hash
	  }
	);

}

</script>




</body>
</html>

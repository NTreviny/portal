<!DOCTYPE html>
<html xml:lang="ca-ES" lang="ca-ES" xmlns="http://www.w3.org/1999/xhtml">
<head>

	<title>Serveis</title>
		<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
	<link href="/css/master.min.css" rel="stylesheet" type="text/css" />
	<link href="/css/canigo.css" rel="stylesheet" type="text/css" />
	<script src="/js/jquery.min.js" type="text/javascript"></script>

	<script>
		document.write("<meta name=\"titol\" content=\"Serveis\" />");
		document.write("<meta name=\"description\" content=\"Components d’Eventhub\" />");
	</script>

	

</head>
<body class="single">
	<div class="contenidor unfixed">

				

		<header class="fons_header navbar navbar-default z-index-menu">
			<div class="container" role="menu">
				<div class="row clearfix menuNav">
					<div class="col-md-3 col-xs-3 column visible-xs coloca ">
						<button type="button" onclick="amunt();" title="Menu"
							class="navbar-toggle pull-left" data-toggle="collapse"
							data-target=".navbar-collapse">
							<span class="sr-only">Toggle navigation</span> <span
								class="icon-bar"></span> <span class="icon-bar"></span> <span
								class="icon-bar"></span>
						</button>
					</div>

					<div class="col-md-3 col-xs-6 col-offset-2 column visible-xs titol-mobil">
						
						<span class="white titol-mobil-destacat">canigo.ctti</span><span class="white">.gencat.cat</span>
					</div>

					<div class="col-md-3 col-xs-3 column visible-xs coloca1">
						<button onclick="amunt();" type="button" title="Cerca"
							class="ico_cerca " data-toggle="collapse" data-target=".dos">
						</button>
					</div>

				</div>

				<div class="collapse dos">
					<div class="shadowBox">
						<form class="navbar-form navbar-left primer" action="/cercador/" method="get"
 						onsubmit="location.href=this.action+'?q='+this.cerca_cap.value; return false;">
							<div class="form-group">
								<input type="search" class="form-control" name="q" id="cerca_cap"
									title="Cerca"
									placeholder="Cerca" />
								<button type="button" title="Neteja" class="btn btn-default"></button>
								<input type="submit" class="ocult" name="Cerca" value="Cerca" />
							</div>
						</form>
					</div>
				</div>	

				<nav class="collapse navbar-collapse navbar-ex1-collapse ">
				
					<div class="row">
						<div class="col-md-6 col-sm-4 column">
							<a class="img-responsive logo" title="Generalitat de Catalunya"
								href="https://ctti.gencat.cat/">gencat.cat</a>
							<button class="menu_tancar visible-xs collapsed"
								data-target=".navbar-collapse" data-toggle="collapse"
								title="Tancar"></button>
						</div>

						<div class="col-md-6 col-sm-8 column hidden-xs hidden-mg">
							<form class="navbar-form cercador_vermell hidden-xs pull-right" action="/cercador/"  method="get" onsubmit="location.href=this.action+'?q='+this.cerca2.value; return false;">
								<div class="form-group">
									<label class="hidden" for="cerca2">Cerca</label>
									<input id="cerca2" class="form-control" type="search" 
									placeholder="Cerca" name="q" title="Cerca">
									<input class="btn btn-default" type="submit" title="Cerca" value="">
								</div>
							</form>

							

						</div>

					</div>
					<div class="col-xs-12 hidden-xs" id="nomPortal">
                    	<span class="titol-cap-nou">Centre de Telecomunicacions i Tecnologies de la Informació</span>
                    </div>					
					<ul class="nav navbar-nav">

			        	

						<li>
							<a class="dropdown-toggle" href='/' data-toggle='_dropdown'>Inici</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/arqctti' data-toggle='_dropdown'>Arquitectura CTTI</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/blog' data-toggle='_dropdown'>Blog</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cloud' data-toggle='_dropdown'>Cloud</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/canigo-fwk-docs' data-toggle='_dropdown'>Canigó</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sic' data-toggle='_dropdown'>SIC</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/sgde' data-toggle='_dropdown'>SGDE</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/gicar' data-toggle='_dropdown'>GICAR</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/cs' data-toggle='_dropdown'>Centres de Suport</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/dadesref' data-toggle='_dropdown'>Gestió Tècnica de Dades</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/eventhub' data-toggle='_dropdown'>EventHub</a>
						</li>

						

						<li>
							<a class="dropdown-toggle" href='/rpa' data-toggle='_dropdown'>RPA</a>
						</li>

						

					</ul>

				</nav>
			</div>
		</header>



	</div>

	<section class="border-start">

						
			

			<article class="bgGrey">
				<div class="container">
					<div class="row">
						<div class="capcelera_basica col-sm-12">
							<div class="capcelera_basica_cont">
								<ol class="breadcrumb filariana hidden-xs">
									<li>
										<a href="/">Inici</a>
									</li>
									<li class="breadcrumbs2">
									
										<a href="/eventhub">
											

























    EventHub








										</a>
										




























































































									
									</li>

								</ol>

								<h1 class="capcelera_flotant pull-left" data-txt=".title">
									

										
											




	Serveis


										

									
								</h1>

								

								
								

								

								

							</div>
						</div>

					</div>
				</div>
			</article>

			


		   <div class="padding-xs container">
	    	
	    	   <i><b>Darrera actualització:</b></i> 20-05-2022
	        
           </div>
           
			<article class="padding-xs padding-sm padding-md contingut">				
				<div class="container">
 		
					
				

	


					

						

<h2 id="components-d-eventhub">Components d&rsquo;Eventhub</h2>

<h3 id="kafka">Kafka</h3>

<p><img src="/related/eventhub/what_is_kafka_and_how_does_it_work.png" alt="Kafka" />
Apache Kafka és una plataforma de transmissió d&rsquo;esdeveniments distribuïda de codi obert utilitzada per milers d&rsquo;empreses per a canalitzacions de dades d&rsquo;alt rendiment, anàlisis de transmissió, integració de dades i aplicacions crítiques.</p>

<p>Kafka combina tres capacitats clau perquè pugueu implementar els vostres casos d&rsquo;ús per a la transmissió d&rsquo;esdeveniments de punta a punta amb una única solució provada en batalla:</p>

<ul>
<li>Per publicar (escriure) i subscriure&rsquo;s a (llegir) fluxos d&rsquo;esdeveniments, inclosa la importació/exportació contínua de les vostres dades des d&rsquo;altres sistemes.</li>
<li>Per emmagatzemar fluxos d&rsquo;esdeveniments de manera duradora i fiable durant el temps que vulgueu.</li>
<li>Processar fluxos d&rsquo;esdeveniments a mesura que es produeixen o de manera retrospectiva.</li>
</ul>

<p>I tota aquesta funcionalitat es proporciona de manera distribuïda, altament escalable, elàstica, tolerant a errors i segura.</p>

<p>Kafka és un sistema distribuït format per servidors i clients que es comuniquen mitjançant un protocol de xarxa TCP d&rsquo;alt rendiment.</p>

<p><strong>Servidors:</strong> Kafka s&rsquo;executa com un clúster d&rsquo;un o més servidors que poden abastar diversos centres de dades o regions del núvol. Alguns d&rsquo;aquests servidors formen la capa d&rsquo;emmagatzematge, anomenada brokers. Altres servidors executen Kafka Connect per importar i exportar dades contínuament com a fluxos d&rsquo;esdeveniments per integrar Kafka amb els vostres sistemes existents, com ara bases de dades relacionals i altres clústers de Kafka. Per permetre&rsquo;t implementar casos d&rsquo;ús crítics, un clúster de Kafka és altament escalable i tolerant a errors: si algun dels seus servidors falla, els altres servidors es faran càrrec de la seva feina per garantir operacions contínues sense cap pèrdua de dades.</p>

<p><strong>Clients:</strong> us permeten escriure aplicacions distribuïdes i microserveis que llegeixen, escriuen i processen fluxos d&rsquo;esdeveniments en paral·lel, a escala i de manera tolerant a errors, fins i tot en cas de problemes de xarxa o fallades de la màquina.</p>

<h4 id="casos-dús">Casos dús</h4>

<p>Casos d&rsquo;ús populars d&rsquo;Apache Kafka.</p>

<h5 id="missatgeria">Missatgeria</h5>

<p>Kafka funciona bé com a substitut d&rsquo;un broker de missatges més tradicional. Els brokers de missatges s&rsquo;utilitzen per diferents motius (per desacoblar el processament dels productors de dades, per guardar missatges no processats, etc.). En comparació amb la majoria de sistemes de missatgeria, Kafka té un millor rendiment, particions integrades, replicació i tolerància a errors, cosa que el converteix en una bona solució per a aplicacions de processament de missatges a gran escala.</p>

<h5 id="seguiment-de-l-activitat-del-lloc-web">Seguiment de l&rsquo;activitat del lloc web</h5>

<p>El cas d&rsquo;ús original de Kafka era poder reconstruir un canal de seguiment de l&rsquo;activitat dels usuaris com un conjunt de fonts de publicació i subscripció en temps real. Això vol dir que l&rsquo;activitat del lloc (visualitzacions de pàgines, cerques o altres accions que els usuaris poden dur a terme) es publica als topics centrals amb un topic per tipus d&rsquo;activitat. Aquests feeds estan disponibles per a la subscripció per a una sèrie de casos d&rsquo;ús, com ara el processament en temps real, la supervisió en temps real i la càrrega a Hadoop o sistemes d&rsquo;emmagatzematge de dades fora de línia per al processament i la generació d&rsquo;informes fora de línia.</p>

<p>El seguiment de l&rsquo;activitat sol tenir un volum molt elevat, ja que es generen molts missatges d&rsquo;activitat per a cada visualització de la pàgina d&rsquo;usuari.</p>

<h5 id="mètriques">Mètriques</h5>

<p>Kafka s&rsquo;utilitza sovint per a dades de seguiment operacional. Això implica agregar estadístiques d&rsquo;aplicacions distribuïdes per produir fonts centralitzades de dades operatives.</p>

<h5 id="agregació-de-logs">Agregació de logs</h5>

<p>Molta gent utilitza Kafka com a reemplaçament d&rsquo;una solució d&rsquo;agregació de registres. L&rsquo;agregació de registres sol recopilar fitxers de registre físics dels servidors i els col·loca en un lloc central (un servidor de fitxers o HDFS potser) per processar-los. Kafka elimina els detalls dels fitxers i ofereix una abstracció més neta de dades de registre o d&rsquo;esdeveniments com a flux de missatges. Això permet un processament de menor latència i un suport més fàcil per a diverses fonts de dades i el consum de dades distribuïts. En comparació amb els sistemes centrats en el registre com Scribe o Flume, Kafka ofereix un rendiment igual de bon, garanties de durabilitat més fortes a causa de la replicació i una latència d&rsquo;extrem a extrem molt més baixa.</p>

<h5 id="stream-processing">Stream Processing</h5>

<p>Molts usuaris de Kafka processen dades en canalitzacions de processament que consisteixen en diverses etapes, on les dades d&rsquo;entrada en brut es consumeixen dels topics de Kafka i després s&rsquo;agreguen, s&rsquo;enriqueixen o es transformen d&rsquo;una altra manera en nous topics per a un consum posterior o un processament de seguiment. Per exemple, un canal de processament per recomanar articles de notícies pot rastrejar el contingut d&rsquo;articles dels canals RSS i publicar-lo en un topic &ldquo;articles&rdquo;; un processament posterior podria normalitzar o desduplicar aquest contingut i publicar el contingut de l&rsquo;article netejat a un topic nou; una etapa final de processament podria intentar recomanar aquest contingut als usuaris. Aquests pipelines de processament creen gràfics de fluxos de dades en temps real basats en els topics individuals. A partir de la 0.10.0.0, una biblioteca de stream processing lleugera però potent anomenada Kafka Streams està disponible a Apache Kafka per dur a terme el processament de dades tal com es descriu anteriorment.</p>

<h5 id="event-sourcing">Event Sourcing</h5>

<p>Event Sourcing és un estil de disseny d&rsquo;aplicacions on els canvis d&rsquo;estat es registren com una seqüència de registres ordenada per temps. El suport de Kafka per a dades de registre emmagatzemades molt grans el converteix en un excel·lent backend per a una aplicació construïda amb aquest estil.</p>

<h5 id="commit-log">Commit Log</h5>

<p>Kafka pot servir com una mena de commit-log extern per a un sistema distribuït. El log ajuda a replicar les dades entre nodes i actua com a mecanisme de resincronització dels nodes fallits per restaurar les seves dades. La funció de compactació de registres de Kafka ajuda a donar suport a aquest ús. En aquest ús, Kafka és similar al projecte Apache BookKeeper.</p>

<h3 id="schema-registry">Schema Registry</h3>

<p><img src="/related/eventhub/Kafka_101_-_Schema_Registry.png" alt="Schema Registry" />
Un cop les aplicacions estiguin ocupades produint missatges a Kafka i consumint-ne missatges, passaran dues coses. En primer lloc, sorgiran nous consumidors de topics existents. Es tracta d&rsquo;aplicacions noves, potser escrites per l&rsquo;equip que va escriure el productor original dels missatges, potser per un altre equip, i hauran d&rsquo;entendre el format dels missatges del topic. En segon lloc, el format d&rsquo;aquests missatges evolucionarà a mesura que evolucioni el negoci. Els objectes de comanda obtenen un nou camp d&rsquo;estat, els noms d&rsquo;usuari es divideixen en nom i cognoms a partir del nom complet, etc. L&rsquo;esquema dels nostres objectes de domini és un objectiu en constant moviment, i hem de tenir una manera d&rsquo;acordar l&rsquo;esquema dels missatges en qualsevol topic determinat.</p>

<p>Existeix Schema Registry per resoldre aquest problema.</p>

<p>Schema Registry és un procés de servidor autònom que s&rsquo;executa en una màquina externa als brokers de Kafka. La seva funció és mantenir una base de dades de tots els esquemes que s&rsquo;han escrit als topics del clúster del qual és responsable. Aquesta &ldquo;base de dades&rdquo; es manté en un topic intern de Kafka i es guarda a la memòria cau al registre d&rsquo;esquemes per a un accés de baixa latència. Schema Registry es pot executar en una configuració redundant i d&rsquo;alta disponibilitat, de manera que roman activat si falla una instància.</p>

<p>Schema Registry també és una API que permet als productors i consumidors predir si el missatge que estan a punt de produir o consumir és compatible amb les versions anteriors. Quan un productor està configurat per utilitzar Schema Registry, crida a una API al endpoint REST del Schema Registry i presenta l&rsquo;esquema del missatge nou. Si és el mateix que l&rsquo;últim missatge produït, el producte pot tenir èxit. Si és diferent de l&rsquo;últim missatge però coincideix amb les regles de compatibilitat definides per al topic, el producte pot tenir èxit. Però si és diferent d&rsquo;una manera que infringeix les regles de compatibilitat, el producte fallarà d&rsquo;una manera que el codi de l&rsquo;aplicació pugui detectar.</p>

<p>De la mateixa manera, pel que fa al consum, si un consumidor llegeix un missatge que té un esquema incompatible amb la versió que espera el codi del consumidor, Schema Registry li dirà que no consumeixi el missatge. Schema Registry no automatitza completament el problema de l&rsquo;evolució de l&rsquo;esquema, això és un repte en qualsevol sistema, independentment de l&rsquo;eina, però fa que un problema difícil sigui molt més fàcil evitant que es produeixin errors en temps d&rsquo;execució quan sigui possible.</p>

<h3 id="kafka-connect">Kafka Connect</h3>

<p><img src="/related/eventhub/Kafka_101_-_Kafka_Connect.png" alt="Kafka Connect" />
En el món de l&rsquo;emmagatzematge i la recuperació d&rsquo;informació, alguns sistemes no són Kafka. De vegades us agradaria que les dades d&rsquo;aquests altres sistemes entrin als topics de Kafka i, de vegades, voldríeu que les dades dels topics de Kafka entrin en aquests sistemes. Com a API d&rsquo;integració d&rsquo;Apache Kafka, això és exactament el que fa Kafka Connect.</p>

<p>D&rsquo;una banda, Kafka Connect és un ecosistema de connectors endollables, i de l&rsquo;altra, una aplicació client. Com a aplicació client, Connect és un procés de servidor que s&rsquo;executa amb maquinari independent dels mateixos brokers de Kafka. És escalable i tolerant a errors, el que significa que podeu executar no només un treballador de Connect, sinó un grup de treballadors de Connect que comparteixen la càrrega de traslladar dades dins i fora de Kafka des i cap a sistemes externs. Kafka Connect també elimina el negoci del codi lluny de l&rsquo;usuari i, en canvi, només requereix la configuració JSON per executar-se.</p>

<p>Un dels principals avantatges de Kafka Connect és el seu gran ecosistema de connectors. Escriure el codi que mou dades a un magatzem de blobs al núvol, o escriu a Elasticsearch o inseriu registres en una base de dades relacional és un codi que és poc probable que variï d&rsquo;una empresa a una altra. De la mateixa manera, llegir des d&rsquo;una base de dades relacional, Salesforce o un sistema de fitxers HDFS heretat és la mateixa operació, independentment del tipus d&rsquo;aplicació que ho faci. Definitivament, podeu escriure aquest codi, però dedicar el vostre temps a això no afegeix cap tipus de valor únic als vostres clients ni fa que el vostre negoci sigui més competitiu.</p>

<hr />

<p>Per a més informació podeu contactar amb l&rsquo;Oficina Tècnica mitjançant <a href="mailto:eventhub.ctti@gencat.cat">e-mail</a>. També podeu consultar l&rsquo;apartat de <a href="/eventhub/Suport">Suport</a>.</p>


					

					
				</div>	

			</article>	


	</section>	

		<div class="fons_footer ">
		<footer class="container center-block shadowBox2">
			<div class="shadow2"></div>
			<div class="row footer_tab_ord">

				<div class="footer_tab_bot col-sm-12">
					<div class="avis_legal">

						<div id="fAvisLegal">
							<div>
								<div class="hidden-xs">
									<a href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" alt="www.gencat.cat"
										/></a>
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								<div class="visible-xs avis_legal">
									<p>
										<a title="Avis legal" href="https://web.gencat.cat/ca/menu-ajuda/ajuda/avis_legal/" target="_self">Avís legal</a>: La &copy; Generalitat de Catalunya permet la reutilització dels continguts i de les dades sempre que se citi la font i la data d'actualització, que no es desnaturalitzi la informació i que no es contradigui amb una llicència específica.
									</p>
								</div>
								
								<div class="fi_peu visible-xs">
									<a title="www.gencat.cat" href="https://www.gencat.cat"> <img
										src="/img/logo_generalitat_gris.png_679097835.png"
										width="101" height="27" 
										alt="www.gencat.cat" /></a> <a class="torna_amunt pull-right"
										href=" javascript:tornarAmunt();" title="Torna amunt">
										<p>Torna amunt</p>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
	</div>

<script src="/js/master.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
<script src="/js/custom.js" type="text/javascript"></script>



<script type="text/javascript">

if(location.hostname!=="localhost"){

	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', "UA-59408075-1", 'auto');
	ga('send', 'pageview', {
	  	'page': location.pathname + location.search  + location.hash
	  }
	);

}

</script>




</body>
</html>
